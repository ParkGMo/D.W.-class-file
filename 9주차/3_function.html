<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Function 함수</title>
  </head>
  <body>
    <button onclick="{showMessage1(this)}">showMessage 함수</button><br />
    <button onclick="showMessage2()">showMessage2 함수</button><br />
    <button onclick="showMessage3()">showMessage3 함수</button><br />
    <br />
    <button id="basicFn">기본함수선언식</button>
    <button id="arrowFn">화살표함수선언식</button>
    <br /><br />
    <button id="loginBtn">로그인</button>
    <button id="logoutBtn">로그아웃</button><br />
    <button id="paymentBtn">결제</button>
    <button id="deleteBtn">회원탈퇴</button>
    <h1 id="welcomePhrase"></h1>
  </body>
  <script>
    // 함수 선언식
    // showMessage(); // 함수 위에서 가능
    function showMessage1(e) {
      //   alert(`함수 선언식`);
      //   console.log(`함수 선언식`);
      console.log(e);
    }
    // 함수
    // showMessage();  함수호출
    // showMessage;  함수 자체 코드를 호출

    // 함수 표현식
    // showMessage2(); // 함수 위에 불가능 : 변수 선언 전이므로
    const showMessage2 = function () {
      //   alert(`함수 표현식`);
      console.log(`함수 표현식`);
    };
    // showMessage2(); // 가능

    // 화살표 함수
    const showMessage3 = () => console.log(`화살표 함수`);

    const basicBtn = document.getElementById("basicFn");
    const arrowBtn = document.getElementById("arrowFn");
    basicBtn.addEventListener("click", function () {
      //   const this = e.currentTarget; // 기본으로 들어있다.
      console.log(this); // 클릭된 요소가 표현
    });
    arrowBtn.addEventListener("click", (e) => {
      //   const this = e.currentTarget; // 화살표 함수에 기본으로 들어있지 않다.
      //   console.log(this); // X
      console.log(e.currentTarget); //
    });

    function printUserName(phrase) {
      const welcomePhrase = document.getElementById("welcomePhrase");
      //   welcomePhrase.innerHTML = `${userName}님 환영합니다.`;
      //   welcomePhrase.innerHTML = `${restPhrase}님이 로그아웃하셨습니다.`;
      welcomePhrase.innerHTML = phrase;
    }

    function makeSentence(userName, userCase) {
      switch (userCase) {
        case "login":
          return `${userName}님 환영합니다!!`;
        case "logout":
          return `${userName}님이 로그아웃 하셨습니다.`;
        case "delete":
          return `${userName}님의 회원정보가 삭제되었습니다.`;
        case "payment":
          return `${userName}님, 결제가 완료되었습니다.`;
        default:
          return `알 수 없는 명령입니다.`;
      }
    }
    // 로그인 버튼클릭 함수
    let userName;
    const loginBtn = document.getElementById("loginBtn");
    loginBtn.addEventListener("click", () => {
      userName = prompt(`이름을 입력하세요!`);
      printUserName(makeSentence(userName, "login"));
    });
    const logoutBtn = document.getElementById("logoutBtn");
    logoutBtn.addEventListener("click", () => {
      if (!userName) {
        alert(`로그인을 먼저 해주세요!`);
      } else {
        printUserName(makeSentence(userName, "logout"));
        userName = "";
      }
    });
    const paymentBtn = document.getElementById("paymentBtn");
    paymentBtn.addEventListener("click", () => {
      if (!userName) {
        alert(`로그인을 먼저 해주세요!`);
      } else {
        printUserName(makeSentence(userName, "payment"));
      }
    });
    const deleteBtn = document.getElementById("deleteBtn");
    deleteBtn.addEventListener("click", () => {
      if (!userName) {
        alert(`로그인을 먼저 해주세요!`);
      } else {
        printUserName(makeSentence(userName, "delete"));
        userName = "";
      }
    });
  </script>
</html>
